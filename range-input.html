<link rel="import" href="../polymer/polymer-element.html">

<dom-module id="range-input">
  <script>
    /**
     * `range-input`
     * alternative inputs for ranges
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class RangeInput extends Polymer.Element {
      static get is() {
        return 'range-input';
      }

      static get template() {
        return `
          ${this.styleTemplate}
          ${this.inputTemplate}
        `
      }

      /**
       * custom style template
       * @type {string}
       */
      static get styleTemplate() {
        return `
          <style include="${this.customStyleToInclude || ''}">
            ${this.customStyleContent}
          </style>
        `;
      }

      /**
       * custom style to include in `<style include="..."`
       * @type {string}
       */
      static get customStyleToInclude() {
        return `${super.customStyleToInclude || ''}`;
      }

      static get customStyleContent() {
        return `
          ${super.customStyleContent || ''}
          :host {
            --input-selected-background: #ddd;
            --input-selected-color: #111;
            --input-background: #252525;
            --input-color: #f1f1f1;
          }
          input[type="color"].native {
            height: 1.5em;
            width: 2em;
            padding: 0.5em;
            box-sizing: content-box;
            cursor: pointer;
            margin: 0;
            @apply --color-input;
          }
          input[type="color"].native::-webkit-color-swatch-wrapper {
            padding: 0;
          }
          input[type="color"].native::-webkit-color-swatch {
            border-radius: 4px;
          }
          .value {
            margin: 0 0.5em;
          }
          [hidden] {
            display: none !important;
          }
          number-input.alpha {
            --number-input: {
              @apply --input-style;
            };
            --number-input-focus: {
              @apply --input-focus;
            };
          }
          .polyfill {
            @apply --input-style;
          }
          .polyfill:focus,
          .polyfill:hover {
            @apply --input-focus;
          }
          input.native {
            @apply --input-style;
          }
          #picker {
            @apply --input-element;
            @apply --input-picker;
            overflow: hidden;
            padding: 0;
          }
          .alpha {
            font-size: 0.6em;
            margin-left: 6px;
            height: 100%;
            transition: opacity 500ms cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0.5;
          }
          :host(:hover) .alpha {
            opacity: 1;
          }
          .replacement {
            border-radius: inherit;
            border: thin solid #bbb;
            display: inline-flex;
            overflow: hidden;
          }
        `;
      }

      static get inputTemplate() {
        return `
          <svg id="circle" width="100%" height="100%">
            <circle class="Circle-background"
                r$="[[_radius]]"
                cx$="[[_cx]]"
                cy$="[[_cy]]"
                fill="transparent"
                stroke-width$="[[strokeWidth]]" />
            <circle class="Circle-foreground"
                r$="[[_radius]]"
                cx$="[[_cx]]"
                cy$="[[_cy]]"
                fill="transparent"
                stroke-width$="[[strokeWidth]]"
                stroke-dasharray$="[[_dasharray]]"
                stroke-dashoffset$="[[_dashoffset]]"
                transform$="[[_transform]]" />
          </svg>
        `;
      }

      static get properties() {
        return {
          prop1: {
            type: String,
            value: 'range-input'
          }
        };
      }
    }

    window.customElements.define(RangeInput.is, RangeInput);
  </script>
</dom-module>
